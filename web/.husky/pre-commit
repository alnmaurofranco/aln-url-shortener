#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ”§ğŸ‘¨â€ğŸ’»ğŸ”¨ Styling, testing and building your project before committing ğŸ”§ğŸ‘¨â€ğŸ’»ğŸ”¨'

# Typescript
yarn style:type || (
  echo 'âŒğŸ›‘âŒ FAILED - TYPE CHECK âŒğŸ›‘âŒ'
  false;
)

# Prettier
yarn style:prettier || (
  echo 'âŒğŸ›‘âŒ FAILED - PRETTIER CHECK âŒğŸ›‘âŒ'
  false;
)

# ESLint
yarn style:lint || (
  echo 'âŒğŸ›‘âŒ FAILED - ESLINT CHECK âŒğŸ›‘âŒ'
  false;
)

echo 'ğŸ™ŒğŸ›  Trying to build now ğŸ› ğŸ™Œ'

yarn build || (
  echo 'âŒğŸ‘·â€â™‚ï¸ğŸ”¨âŒ FAILED - NEXT BUILD: Views the erros above to see why âŒğŸ”¨ğŸ‘·â€â™‚ï¸âŒ'
  false;
)

echo 'âœ…âœ¨âœ¨âœ… COMMITING SUCCESS || BUILD SUCCESS âœ…âœ¨âœ¨âœ…'

# git add -A . &&

yarn lint-staged
